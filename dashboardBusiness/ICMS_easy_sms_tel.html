<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ICMS Easy SMS สมุดโทรศัพท์</title>

    <link rel="stylesheet" href="../assets/css/bootstrap-reboot.min.css" />
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../assets/css/all.min.css" />
    <link rel="stylesheet" href="../assets/css/animations.css" />
    <link rel="stylesheet" href="../assets/css/animate.min.css" />
    <link rel="stylesheet" href="../assets/css/sweetalert2.min.css" />
    <link rel="stylesheet" href="../assets/css/main.css" />
    <link rel="stylesheet" href="../assets/css/button.css" />
    <link rel="stylesheet" href="../assets/css/modal.css" />
    <link rel="stylesheet" href="../assets/css/topbar.css" />
    <link rel="stylesheet" href="../assets/css/policy.css" />
    <link rel="stylesheet" href="../assets/css/footer.css" />
    <link rel="stylesheet" href="../assets/css/topbarJobSeeker.css" />
    <link rel="stylesheet" href="../assets/css/topbarBusiness.css" />

    <link rel="stylesheet" href="css/dashboardBusiness.css" />
    <link rel="stylesheet" href="css/menu_icms.css" />
    <link rel="stylesheet" href="css/icon_status.css" />
    <link rel="stylesheet" href="css/status.css" />
    <link rel="stylesheet" href="css/ICMS_easy_sms.css" />
    <link rel="stylesheet" href="css/ICMS_easy_sms_tel.css" />
  </head>

  <body>
    <section class="container">
      <article class="row">
        <div class="col-12">
          <!-- topbar -->
          <article class="topbar">
            <!-- assets/components/topbar.js -->
          </article>
          <!-- end topbar -->

          <!-- menu show ผู้สมัครงาน และ ผู้ประกอบการ -->
          <article class="clWhitetGray calC businessMenuShow">
            <!-- userMenuShow businessMenuShow -->
            <!-- assets/components/topBarBusiness.js -->
            <!-- assets/components/topBarJobSeeker.js -->
          </article>
          <!-- end  menu show ผู้สมัครงาน และ ผู้ประกอบการ -->

          <article class="mt-5">
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb breadcrumbJobbkk">
                <li class="breadcrumb-item">
                  <a href="javascript:void(0)">Home</a>
                </li>
                <li class="breadcrumb-item">
                  <a href="javascript:void(0)">Library</a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                  จัดการใบสมัครงาน iCMS
                </li>
              </ol>
            </nav>

            <div class="lineDash"></div>

            <article class="menu_icms mb-5">
              <!-- js/menu_icms.js -->
            </article>

            <section class="clWhitetGray borderRadiusStyle p-3 mb-5">
              <article class="gridBoard">
                <!-- left -->
                <div>
                  <!-- profile -->
                  <section id="profile">
                    <!-- js/profile.js -->
                  </section>
                  <!-- end profile -->

                  <section
                    id="menuDashboardBusiness"
                    class="clWhite borderRadiusStyle py-3"
                  >
                    <!-- js/menuDashboard.js -->
                  </section>
                </div>
                <!-- end left -->

                <!-- right -->
                <div>
                  <section
                    id="buttonUseBusiness"
                    class="clWhite borderRadiusStyle p-3"
                  >
                    <article class="flexInfo">
                      <div>
                        <h2 class="fontSubHead">จัดการใบสมัครงาน ICMS</h2>
                        <h6>ใบสมัคร Fast Resume / EASY SMS</h6>
                      </div>
                      <div class="text-right">
                        <h6 class="textRed fontText font-weight-bold">
                          เข้าสู่ระบบล่าสุด
                        </h6>
                        <p>10 ก.ย. 2020 | 14:09</p>
                      </div>
                    </article>

                    <div class="lineDashUrgent"></div>

                    <article class="mb-5">
                      <ul class="flexButtonBusiness">
                        <!-- js/button_businessFive.js -->
                      </ul>
                    </article>

                    <article>
                      <!-- เครดิต เหลือวันใช้งาน -->
                      <section class="credit mb-3">
                        <!-- js/group_sms.js -->
                      </section>
                      <!-- end เครดิต เหลือวันใช้งาน -->

                      <!-- สมุดโทรศัพท์ กลุ่มรายชื่อ ส่งข้อความ ประวัติการส่ง -->
                      <section id="group">
                        <!-- js/group_sms.js -->
                      </section>
                      <!-- end สมุดโทรศัพท์ กลุ่มรายชื่อ ส่งข้อความ ประวัติการส่ง -->

                      <!-- รายชื่อติดต่อ กลุ่ม -->
                      <section class="list_group mb-5">
                        <!-- js/list_group.js -->
                      </section>
                      <!-- end รายชื่อติดต่อ กลุ่ม -->

                      <section class="create_group">
                        <h2 class="fontText font-weight-bold">สร้างใหม่</h2>
                        <div class="add_group">
                          <section>
                            <span class="font-weight-bold">ชื่อ</span>
                            <input
                              type="text"
                              class="form-control"
                              placeholder="ชื่อ"
                            />
                          </section>

                          <section>
                            <span class="font-weight-bold">มือถือ</span>
                            <input
                              type="tel"
                              class="form-control"
                              placeholder="มือถือ"
                            />
                          </section>

                          <section>
                            <button type="button">เพิ่ม</button>
                          </section>
                        </div>

                        <div class="import">
                          <div>
                            <a href="">นำเข้าด้วยไฟล์ Excel</a>
                          </div>
                          <div class="search_name">
                            <input
                              type="text"
                              value=""
                              placeholder="ค้นหาโดยรายชื่อกลุ่ม"
                              class="form-control"
                            />
                            <button type="submit">
                              <i class="fas fa-search"></i>
                            </button>
                          </div>
                        </div>
                      </section>

                      <!-- ตาราง -->
                      <div class="my-5">
                        <section class="list_all p-3">
                          <div>
                            ทั้งหมด <span class="textRed">2</span> รายการ
                          </div>
                          <div>
                            <div class="select_del">
                              <label>
                                <input type="checkbox" /> เลือกทั้งหมด
                              </label>
                              <button type="button" id="del" class="btn_white">
                                ลบ
                              </button>
                            </div>
                          </div>
                        </section>

                        <section class="responsive_table">
                          <table class="table table-bordered">
                            <thead class="thead">
                              <tr>
                                <th><input type="checkbox" /></th>
                                <th>ชื่อ</th>
                                <th>มือถือ</th>
                                <th>การจัดการ</th>
                              </tr>
                            </thead>
                            <tbody class="tbody">
                              <tr>
                                <td data-label=""><input type="checkbox" /></td>
                                <td data-label="ชื่อ">
                                  ฉัตรทอง หงส์วิสุทธิกุล
                                </td>
                                <td data-label="มือถือ">123456789</td>
                                <td data-label="การจัดการ">
                                  <button
                                    type="button"
                                    data-toggle="modal"
                                    data-target="#modal_correct"
                                  >
                                    แก้ไข
                                  </button>
                                </td>
                              </tr>

                              <tr>
                                <td data-label=""><input type="checkbox" /></td>
                                <td data-label="ชื่อ">Skysword</td>
                                <td data-label="มือถือ">123456789</td>
                                <td data-label="การจัดการ">
                                  <button
                                    type="button"
                                    data-toggle="modal"
                                    data-target="#modal_correct"
                                  >
                                    แก้ไข
                                  </button>
                                </td>
                              </tr>

                              <tr>
                                <td data-label=""><input type="checkbox" /></td>
                                <td data-label="ชื่อ">Dynastystrike</td>
                                <td data-label="มือถือ">123456789</td>
                                <td data-label="การจัดการ">
                                  <button
                                    type="button"
                                    data-toggle="modal"
                                    data-target="#modal_correct"
                                  >
                                    แก้ไข
                                  </button>
                                </td>
                              </tr>
                            </tbody>
                          </table>
                        </section>
                      </div>
                      <!-- end ตาราง -->

                      <!-- modal แก้ไข -->
                      <div
                        class="modal fade close_modal"
                        id="modal_correct"
                        tabindex="-1"
                        aria-labelledby="exampleModalLabel"
                        aria-hidden="true"
                      >
                        <div class="modal-dialog modalDialog">
                          <div
                            class="modal-content"
                            style="max-width: 57.6rem; margin: 0 auto"
                          >
                            <div class="modal-header">
                              <div class="flexHeadModal">
                                <h2 class="fontSubHead textWhite lineH">
                                  แก้ไขผู้ติดต่อ
                                </h2>
                              </div>
                              <button
                                type="button"
                                class="close fontSuperHead textWhite"
                                data-dismiss="modal"
                                aria-label="Close"
                              >
                                <span aria-hidden="true"
                                  ><i class="fas fa-times-circle"></i
                                ></span>
                              </button>
                            </div>

                            <div class="modal-body">
                              <div class="correct_name">
                                <section class="mb-3">
                                  <p class="font-weight-bold">
                                    ชื่อผู้ติดต่อ :
                                  </p>
                                  <input
                                    type="text"
                                    class="form-control"
                                    placeholder="ชื่อผู้ติดต่อ"
                                  />
                                </section>

                                <section>
                                  <p class="font-weight-bold">
                                    เบอร์โทรศัพท์ :
                                  </p>
                                  <input
                                    type="text"
                                    class="form-control"
                                    placeholder="เบอร์โทรศัพท์"
                                  />
                                </section>
                              </div>
                            </div>

                            <div class="modal-footer modalFooter flexFooter">
                              <button
                                class="btn_red successReport"
                                type="button"
                                data-dismiss="modal"
                              >
                                บันทึก
                              </button>
                              <button
                                class="btn_white"
                                type="button"
                                data-dismiss="modal"
                              >
                                ยกเลิก
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- end modal แก้ไข -->
                    </article>

                    <nav aria-label="Page navigation example">
                      <ul class="pagination flexPagination mb-5">
                        <!-- components/pagination.js -->
                      </ul>
                    </nav>
                  </section>
                </div>
                <!-- end right -->
              </article>
            </section>
          </article>
        </div>
      </article>

      <!-- footer -->
      <footer class="calC footerJobbkk">
        <!-- assets/components/footer.js -->
      </footer>
      <!-- end footer -->
    </section>

    <!--backtotop-->
    <a href="javascript:void(0)" class="cd-top">Top</a>
    <div id="policy"></div>

    <script src="../assets/js/jquery-3.5.1.min.js"></script>
    <script src="../assets/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/slide-menu.js"></script>
    <script src="../assets/js/backToTop.js"></script>
    <script src="../assets/js/sweetalert2@10.js"></script>

    <script src="../assets/components/pathActive.js"></script>
    <script src="../assets/components/topBarBusiness.js"></script>
    <script src="../assets/components/footer.js"></script>
    <script src="../assets/components/cookiePolicy.js"></script>

    <script src="js/tooltip.js"></script>
    <script src="js/profile.js"></script>
    <script src="js/menuDashboard.js"></script>
    <script src="js/button_businessFive.js"></script>
    <script src="js/menu_icms.js"></script>
    <script src="js/group_sms.js"></script>
    <script src="js/list_group.js"></script>
    <script src="../assets/components/pagination.js"></script>

    <script>
      $(".successReport").on("click", () => {
        Swal.fire({
          title: "ดำเนินการเรียบร้อยแล้ว",
          icon: "success",
          showConfirmButton: false,
          timer: 2000,
        });
      });

      // checkbox เลือกข้อมูลทั้งหมด
      const select_all = document.querySelector(".thead tr th input"),
        select_del = document.querySelector(".select_del label input"),
        checkboxs = document.querySelectorAll(".tbody tr td input");

      const fn_remove = () => {
        $("#del").on("click", () => {
          const remove_checked = document.querySelectorAll(
            ".tbody tr td input:checked"
          );
          for (const remove_check of remove_checked) {
            remove_check.closest("tr").remove();
          }
        });
      };

      select_all.addEventListener("click", () => {
        for (const checkbox of checkboxs) {
          checkbox.checked = select_all.checked;
          fn_remove();
        }
      });

      select_del.addEventListener("click", () => {
        for (const checkbox of checkboxs) {
          checkbox.checked = select_del.checked;
          fn_remove();
        }
      });

      for (const checkbox of checkboxs) {
        // รายการที่ลบ
        $("#del").on("click", () => {
          if (
            !checkbox.checked &&
            document.querySelectorAll(".tbody tr td input:checked").length === 0
          ) {
            swal.fire({
              title: "กรุณาเลือกรายการที่จะลบ",
              icon: "warning",
              showConfirmButton: true,
              confirmButtonText: "ตกลง",
            });
          } else if (
            document.querySelectorAll(".tbody tr td input:checked").length === 0
          ) {
            swal.fire({
              title: "ไม่มีรายการที่จะลบ",
              icon: "warning",
              showConfirmButton: true,
              confirmButtonText: "ตกลง",
            });
          }
        });
        // end รายการที่ลบ

        checkbox.addEventListener("click", () => {
          if (!checkbox.checked) {
            select_all.checked = false;
            select_del.checked = false;
          }
          if (
            document.querySelectorAll(".tbody tr td input:checked").length ===
            checkboxs.length
          ) {
            select_all.checked = true;
            select_del.checked = true;
          }
          // ลบ ในตาราง
          fn_remove();
          // end ลบ ในตาราง
        });

        window.addEventListener("resize", () => {
          if (window.innerWidth <= 1200) {
            for (const checkbox of checkboxs) {
              checkbox.checked = select_all.checked;
              checkbox.checked = select_del.checked;
            }
            if (!checkboxs.checked || checkboxs.checked) {
              select_all.checked = checkbox.checked;
              select_del.checked = checkbox.checked;
            }
          }
        });
      }
      // end checkbox เลือกข้อมูลทั้งหมด
    </script>
  </body>
</html>
