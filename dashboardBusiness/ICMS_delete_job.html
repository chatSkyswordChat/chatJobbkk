<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ใบสมัครงานที่ลบ</title>

    <link rel="stylesheet" href="../assets/css/bootstrap-reboot.min.css" />
    <link rel="stylesheet" href="../assets/css/bootstrap.min.css" />
    <link rel="stylesheet" href="../assets/css/all.min.css" />
    <link rel="stylesheet" href="../assets/css/animations.css" />
    <link rel="stylesheet" href="../assets/css/animate.min.css" />
    <link rel="stylesheet" href="../assets/css/sweetalert2.min.css" />
    <link rel="stylesheet" href="../assets/css/main.css" />
    <link rel="stylesheet" href="../assets/css/button.css" />
    <link rel="stylesheet" href="../assets/css/modal.css" />
    <link rel="stylesheet" href="../assets/css/topbar.css" />
    <link rel="stylesheet" href="../assets/css/footer.css" />
    <link rel="stylesheet" href="../assets/css/policy.css" />
    <link rel="stylesheet" href="../assets/css/topbarJobSeeker.css" />
    <link rel="stylesheet" href="../assets/css/topbarBusiness.css" />

    <link rel="stylesheet" href="css/dashboardBusiness.css" />
    <link rel="stylesheet" href="css/menu_icms.css" />
    <link rel="stylesheet" href="css/icon_status.css" />
    <link rel="stylesheet" href="css/status.css" />
    <!--calendar-->
    <link rel="stylesheet" href="css/ICMS_delete_job.css" />
  </head>

  <body>
    <section class="container">
      <article class="row">
        <div class="col-12">
          <!-- topbar -->
          <article class="topbar">
            <!-- assets/components/topbar.js -->
          </article>
          <!-- end topbar -->

          <!-- menu show ผู้สมัครงาน และ ผู้ประกอบการ -->
          <article class="clWhitetGray calC businessMenuShow">
            <!-- userMenuShow businessMenuShow -->
            <!-- assets/components/topBarBusiness.js -->
            <!-- assets/components/topBarJobSeeker.js -->
          </article>
          <!-- end  menu show ผู้สมัครงาน และ ผู้ประกอบการ -->

          <article class="mt-5">
            <nav aria-label="breadcrumb">
              <ol class="breadcrumb breadcrumbJobbkk">
                <li class="breadcrumb-item">
                  <a href="javascript:void(0)">Home</a>
                </li>
                <li class="breadcrumb-item">
                  <a href="javascript:void(0)">Library</a>
                </li>
                <li class="breadcrumb-item active" aria-current="page">
                  จัดการใบสมัครงาน iCMS
                </li>
              </ol>
            </nav>

            <div class="lineDash"></div>

            <article class="menu_icms mb-5">
              <!-- js/menu_icms.js -->
            </article>

            <section class="clWhitetGray borderRadiusStyle p-3 mb-5">
              <article class="gridBoard">
                <!-- left -->
                <div>
                  <!-- profile -->
                  <section id="profile">
                    <!-- js/profile.js -->
                  </section>
                  <!-- end profile -->

                  <section
                    id="menuDashboardBusiness"
                    class="clWhite borderRadiusStyle py-3"
                  >
                    <!-- js/menuDashboard.js -->
                  </section>
                </div>
                <!-- end left -->

                <!-- right -->
                <div>
                  <section
                    id="buttonUseBusiness"
                    class="clWhite borderRadiusStyle p-3"
                  >
                    <article class="flexInfo">
                      <div>
                        <h2 class="fontSubHead">จัดการใบสมัครงาน ICMS</h2>
                        <h6>ใบสมัครงานที่ลบ</h6>
                      </div>
                      <div class="text-right">
                        <h6 class="textRed fontText font-weight-bold">
                          เข้าสู่ระบบล่าสุด
                        </h6>
                        <p>10 ก.ย. 2020 | 14:09</p>
                      </div>
                    </article>

                    <div class="lineDashUrgent"></div>

                    <article class="mb-5">
                      <ul class="flexButtonBusiness">
                        <!-- js/button_businessFive.js -->
                      </ul>
                    </article>

                    <article>
                      <div class="align_work mb-3">
                        <p>ตำแหน่งงาน</p>
                        <select
                          name=""
                          id=""
                          class="form-control"
                          style="border-radius: 5rem"
                        >
                          <option value="" class="option" data-limit="120">
                            รับสมัคร System Analysis ปฏิบัติงานแถวจตุจักร ติดต่อ
                            098-282-7707 คุณเท่
                          </option>
                          <option value="" class="option" data-limit="120">
                            ios & Android Developer ปฏิบัติงานแถวจตุจักร ด่วน!!
                            ติดต่อ 098-282-7707 คุณเท่
                          </option>
                          <option value="" class="option" data-limit="120">
                            Learning & Development Manager (Training Manager)
                          </option>
                          <option value="" class="option" data-limit="120">
                            Software Engineer (Java/Android and iOS)
                          </option>
                          <option value="" class="option" data-limit="120">
                            พนักงานขาย (Sale Representative ยาสีฟัน แปรงสีฟัน
                            น้ำยาบ้วนปาก ฯ)
                          </option>
                          <option value="" class="option" data-limit="120">
                            พนักงานพาร์ทไทม์ (ร้าน Taco bell สาขา สยามพารากอน )
                          </option>
                        </select>
                      </div>

                      <div class="manage_icms">
                        <section class="search_icms">
                          <input
                            type="text"
                            value=""
                            placeholder="ค้นหาจากชื่อ"
                            class="form-control"
                          />
                          <button type="submit">
                            <i class="fas fa-search"></i>
                          </button>
                        </section>

                        <section>
                          <div>
                            <button
                              type="button"
                              data-toggle="modal"
                              data-target="#modal_alert"
                            >
                              <i class="fas fa-cog"></i> ตั้งค่า
                            </button>
                          </div>
                          <div>
                            <button type="button" id="reuse">
                              <i class="fas fa-recycle"></i> กู้คืน
                            </button>
                          </div>
                          <div>
                            <button type="button" id="del">
                              <i class="fas fa-trash-alt"></i> ลบ
                            </button>
                          </div>
                        </section>
                      </div>

                      <!-- ตาราง -->
                      <div class="my-5">
                        <p class="textRed">
                          * กรุณาเลือกเครื่องหมาย ถูก
                          <span style="color: #333"
                            ><i class="far fa-check-square"></i
                          ></span>
                          หน้าช่อง สี่เหลี่ยม
                        </p>
                        <div class="list_all p-3">
                          <p>ทั้งหมด <span class="textRed">2</span> รายการ</p>
                          <label>
                            <input type="checkbox" name="" id="" /> เลือกทั้งหมด
                          </label>
                        </div>
                        <table class="table table-bordered">
                          <thead class="thead">
                            <tr>
                              <th>
                                <input
                                  type="checkbox"
                                  name=""
                                  id="select_all"
                                />
                              </th>
                              <th>ชื่อ</th>
                              <th>เพศ</th>
                              <th>อายุ</th>
                              <th>ประสบการณ์</th>
                              <th>นัดสัมภาษณ์</th>
                              <th>วันที่</th>
                              <th>อ้างอิง</th>
                            </tr>
                          </thead>
                          <tbody class="tbody">
                            <tr>
                              <td data-label="">
                                <input type="checkbox" name="" id="" />
                              </td>
                              <td data-label="ชื่อ">
                                <div>
                                  <a
                                    href="../dashboardJobSeeker/previewBusiness.html"
                                    >ฉัตรทอง หงส์วิสุทธิกุล</a
                                  >
                                  <p>Graphic Designer</p>
                                </div>
                              </td>
                              <td data-label="เพศ">ชาย</td>
                              <td data-label="อายุ">34</td>
                              <td data-label="ประสบการณ์">12</td>
                              <td data-label="Resume Score">
                                <div class="progress progressScore">
                                  <div
                                    class="progress-bar progressGreen"
                                    role="progressbar"
                                    style="width: 85%"
                                    aria-valuenow="85"
                                    aria-valuemin="0"
                                    aria-valuemax="100"
                                  >
                                    85%
                                  </div>
                                </div>
                              </td>
                              <td data-label="วันที่">
                                <p>22/03/2564</p>
                                <p>10:52:15</p>
                              </td>
                              <td>Application Select</td>
                            </tr>

                            <tr>
                              <td data-label="">
                                <input type="checkbox" name="" id="" />
                              </td>
                              <td data-label="ชื่อ">
                                <div>
                                  <a
                                    href="../dashboardJobSeeker/previewBusiness.html"
                                    >chat_skysword</a
                                  >
                                  <p>Web Designer</p>
                                </div>
                              </td>
                              <td data-label="เพศ">ชาย</td>
                              <td data-label="อายุ">34</td>
                              <td data-label="ประสบการณ์">12</td>
                              <td data-label="Resume Score">
                                <div class="progress progressScore">
                                  <div
                                    class="progress-bar progressGreen"
                                    role="progressbar"
                                    style="width: 100%"
                                    aria-valuenow="100"
                                    aria-valuemin="0"
                                    aria-valuemax="100"
                                  >
                                    100%
                                  </div>
                                </div>
                              </td>
                              <td data-label="วันที่">
                                <p>22/03/2564</p>
                                <p>10:52:15</p>
                              </td>
                              <td>Unknown</td>
                            </tr>

                            <tr>
                              <td data-label="">
                                <input type="checkbox" name="" id="" />
                              </td>
                              <td data-label="ชื่อ">
                                <div>
                                  <a
                                    href="../dashboardJobSeeker/previewBusiness.html"
                                    >Skysword</a
                                  >
                                  <p>Front End Developer</p>
                                </div>
                              </td>
                              <td data-label="เพศ">ชาย</td>
                              <td data-label="อายุ">34</td>
                              <td data-label="ประสบการณ์">12</td>
                              <td data-label="Resume Score">
                                <div class="progress progressScore">
                                  <div
                                    class="progress-bar progressGreen"
                                    role="progressbar"
                                    style="width: 50%"
                                    aria-valuenow="50"
                                    aria-valuemin="0"
                                    aria-valuemax="100"
                                  >
                                    50%
                                  </div>
                                </div>
                              </td>
                              <td data-label="วันที่">
                                <p>22/03/2564</p>
                                <p>10:52:15</p>
                              </td>
                              <td>Unknown</td>
                            </tr>

                            <tr>
                              <td data-label="">
                                <input type="checkbox" name="" id="" />
                              </td>
                              <td data-label="ชื่อ">
                                <div>
                                  <a
                                    href="../dashboardJobSeeker/previewBusiness.html"
                                    >Dynastystrike</a
                                  >
                                  <p>Web Developer</p>
                                </div>
                              </td>
                              <td data-label="เพศ">ชาย</td>
                              <td data-label="อายุ">34</td>
                              <td data-label="ประสบการณ์">12</td>
                              <td data-label="Resume Score">
                                <div class="progress progressScore">
                                  <div
                                    class="progress-bar progressGreen"
                                    role="progressbar"
                                    style="width: 85%"
                                    aria-valuenow="85"
                                    aria-valuemin="0"
                                    aria-valuemax="100"
                                  >
                                    85%
                                  </div>
                                </div>
                              </td>
                              <td data-label="วันที่">
                                <p>22/03/2564</p>
                                <p>10:52:15</p>
                              </td>
                              <td>Unknown</td>
                            </tr>
                          </tbody>
                        </table>
                      </div>
                      <!-- end ตาราง -->

                      <nav aria-label="Page navigation example">
                        <ul class="pagination flexPagination mb-5">
                          <!-- components/pagination.js -->
                        </ul>
                      </nav>

                      <!-- modal_alert -->
                      <div
                        class="modal fade"
                        id="modal_alert"
                        tabindex="-1"
                        aria-labelledby="exampleModalLabel"
                        aria-hidden="true"
                      >
                        <div class="modal-dialog modalDialog">
                          <div
                            class="modal-content"
                            style="max-width: 57.6rem; margin: 0 auto"
                          >
                            <div class="modal-header">
                              <div class="flexHeadModal">
                                <h2 class="fontSubHead textWhite lineH">
                                  แจ้งเตือน
                                </h2>
                              </div>
                              <button
                                type="button"
                                class="close fontSuperHead textWhite"
                                data-dismiss="modal"
                                aria-label="Close"
                              >
                                <span aria-hidden="true"
                                  ><i class="fas fa-times-circle"></i
                                ></span>
                              </button>
                            </div>

                            <div class="modal-body">
                              <h2 class="fontText textRed text-center mb-5">
                                กรุณาตั้งค่าช่วงเวลาในการเปลี่ยนสถานะของคุณ
                              </h2>
                              <div
                                style="
                                  display: flex;
                                  align-items: center;
                                  gap: 0 1.5rem;
                                  flex-wrap: wrap;
                                "
                              >
                                <p class="font-weight-bold">
                                  ลบออกโดยอัตโนมัติทุก
                                </p>
                                <select
                                  name=""
                                  id=""
                                  class="form-control"
                                  style="border-radius: 0.5rem; width: auto"
                                >
                                  <option value="">45</option>
                                  <option value="">60</option>
                                  <option value="">90</option>
                                </select>
                                <p>วัน , เริ่มนับจากวันที่เลือกใบสมัครงาน</p>
                              </div>

                              <div class="lineDashUrgent"></div>

                              <div
                                style="
                                  display: flex;
                                  align-items: center;
                                  gap: 0 1.5rem;
                                  flex-wrap: wrap;
                                "
                              >
                                <p class="font-weight-bold">
                                  หากไม่มีการตอบรับจากผู้สมัครงาน,
                                </p>
                                <p>สถานะจะถูกเปลี่ยนเป็นปฎิเสธภายในระยะเวลา</p>
                                <select
                                  name=""
                                  id=""
                                  class="form-control"
                                  style="border-radius: 0.5rem; width: auto"
                                >
                                  <option value="">7</option>
                                  <option value="">15</option>
                                </select>
                                <p>วัน</p>
                              </div>

                              <div class="lineDashUrgent"></div>

                              <div
                                style="
                                  display: flex;
                                  align-items: center;
                                  gap: 0 1.5rem;
                                  flex-wrap: wrap;
                                "
                              >
                                <p class="font-weight-bold">
                                  หากผู้ประกอบการไม่มีการตอบรับ,
                                </p>
                                <p>
                                  สถานะ รอการพิจารณา จะถูกเปลี่ยน
                                  สถานะล้มเหลวภายในระยะเวลา
                                </p>
                                <select
                                  name=""
                                  id=""
                                  class="form-control"
                                  style="border-radius: 0.5rem; width: auto"
                                >
                                  <option value="">7</option>
                                  <option value="">15</option>
                                </select>
                                <p>วัน</p>
                              </div>
                            </div>

                            <div class="modal-footer flexCenter">
                              <button
                                type="button"
                                class="btn_red save_alert"
                                data-dismiss="modal"
                              >
                                บันทึก
                              </button>
                              <button
                                type="button"
                                class="btn_white"
                                data-dismiss="modal"
                              >
                                ยกเลิก
                              </button>
                            </div>
                          </div>
                        </div>
                      </div>
                      <!-- end modal_alert -->
                    </article>
                  </section>
                </div>
                <!-- end right -->
              </article>
            </section>
          </article>
        </div>
      </article>

      <!-- footer -->
      <footer class="calC footerJobbkk">
        <!-- assets/components/footer.js -->
      </footer>
      <!-- end footer -->
    </section>

    <!--backtotop-->
    <a href="javascript:void(0)" class="cd-top">Top</a>
    <div id="policy"></div>

    <script src="../assets/js/jquery-3.5.1.min.js"></script>
    <script src="../assets/js/bootstrap.bundle.min.js"></script>
    <script src="../assets/js/slide-menu.js"></script>
    <script src="../assets/js/backToTop.js"></script>
    <script src="../assets/js/sweetalert2@10.js"></script>

    <script src="../assets/components/pathActive.js"></script>
    <script src="../assets/components/topBarBusiness.js"></script>
    <script src="../assets/components/footer.js"></script>
    <script src="../assets/components/cookiePolicy.js"></script>

    <script src="js/tooltip.js"></script>
    <script src="js/profile.js"></script>
    <script src="js/menuDashboard.js"></script>
    <script src="js/button_businessFive.js"></script>
    <script src="js/menu_icms.js"></script>
    <script src="../assets/components/pagination.js"></script>
    <!--calendar-->

    <script>
      $(".save_alert").on("click", () => {
        swal.fire({
          title: "คุณบันทึกสำเร็จแล้ว",
          icon: "success",
          showConfirmButton: true,
          confirmButtonText: "ตกลง",
        });
      });

      // checkbox เลือกข้อมูลทั้งหมด
      const select_all = document.querySelector("#select_all"),
        list_all = document.querySelector(".list_all label input"),
        checkboxs = document.querySelectorAll(".tbody tr td input");

      const fn_reuse = () => {
        $("#reuse").on("click", () => {
          const remove_checked = document.querySelectorAll(
            ".tbody tr td input:checked"
          );
          for (const remove_check of remove_checked) {
            remove_check.closest("tr").remove();
            swal.fire({
              title: "กู้คืนสำเร็จแล้ว",
              icon: "success",
              showConfirmButton: false,
              timer: 1500,
            });
          }
        });
      };

      const fn_remove = () => {
        $("#del").on("click", () => {
          const remove_checked = document.querySelectorAll(
            ".tbody tr td input:checked"
          );
          for (const remove_check of remove_checked) {
            remove_check.closest("tr").remove();
          }
        });
      };

      select_all.addEventListener("change", () => {
        for (const checkbox of checkboxs) {
          checkbox.checked = select_all.checked;
          fn_reuse();
          fn_remove();
        }
      });

      list_all.addEventListener("change", () => {
        for (const checkbox of checkboxs) {
          checkbox.checked = list_all.checked;
          fn_reuse();
          fn_remove();
        }
      });

      for (const checkbox of checkboxs) {
        // รายการที่ลบ
        $("#del").on("click", () => {
          if (
            !checkbox.checked &&
            document.querySelectorAll(".tbody tr td input:checked").length === 0
          ) {
            swal.fire({
              title: "กรุณาเลือกรายการที่จะลบ",
              icon: "warning",
              showConfirmButton: true,
              confirmButtonText: "ตกลง",
            });
          } else if (
            document.querySelectorAll(".tbody tr td input:checked").length === 0
          ) {
            swal.fire({
              title: "ไม่มีรายการที่จะลบ",
              icon: "warning",
              showConfirmButton: true,
              confirmButtonText: "ตกลง",
            });
          }
        });
        // end รายการที่ลบ

        // กู้คืน
        $("#reuse").on("click", () => {
          if (
            !checkbox.checked &&
            document.querySelectorAll(".tbody tr td input:checked").length === 0
          ) {
            console.log("aaaaaaaaa");
            swal.fire({
              title: "กรุณาเลือกรายการที่จะกู้คืน",
              icon: "warning",
              showConfirmButton: true,
              confirmButtonText: "ตกลง",
            });
          } else if (
            document.querySelectorAll(".tbody tr td input:checked").length === 0
          ) {
            swal.fire({
              title: "ไม่มีรายการที่จะกู้คืน",
              icon: "warning",
              showConfirmButton: true,
              confirmButtonText: "ตกลง",
            });
          }
        });
        // end กู้คืน

        checkbox.addEventListener("change", () => {
          if (!checkboxs.checked) {
            select_all.checked = false;
            list_all.checked = false;
          }
          if (
            document.querySelectorAll(".tbody tr td input:checked").length ===
            checkboxs.length
          ) {
            select_all.checked = true;
            list_all.checked = true;
          }
          // ลบ ในตาราง
          fn_remove();
          // end ลบ ในตาราง

          // กู้คืนในตาราง
          fn_reuse();
          // end กู้คืนในตาราง
        });

        window.addEventListener("resize", () => {
          if (window.innerWidth <= 1200) {
            for (const checkbox of checkboxs) {
              checkbox.checked = select_all.checked;
              checkbox.checked = list_all.checked;
            }
            if (!checkboxs.checked || checkboxs.checked) {
              select_all.checked = checkbox.checked;
              list_all.checked = checkbox.checked;
            }
          }
        });
      }
      // end checkbox เลือกข้อมูลทั้งหมด

      // ตัดคำ select option
      const shortString = () => {
        const options = document.querySelectorAll(".option");
        let tail = "...";

        for (const option of options) {
          const text = option.textContent;

          const dataset = () => {
            option.textContent = `${text
              .substring(0, option.getAttribute("data-limit") - tail.length)
              .trim()}${tail}`;
          };

          const resize991 = () => {
            option.setAttribute("data-limit", "75");
          };

          const resize768 = () => {
            option.setAttribute("data-limit", "70");
          };

          const resize576 = () => {
            option.setAttribute("data-limit", "110");
          };

          const resize480 = () => {
            option.setAttribute("data-limit", "70");
          };

          const resize380 = () => {
            option.setAttribute("data-limit", "60");
          };

          if (option.hasAttribute("data-limit")) {
            if (text.length > option.getAttribute("data-limit")) {
              dataset();
              if (window.innerWidth <= 991) {
                resize991();
                dataset();
                if (window.innerWidth <= 768) {
                  resize768();
                  dataset();
                  if (window.innerWidth <= 576) {
                    resize576();
                    dataset();
                    if (window.innerWidth <= 480) {
                      resize480();
                      dataset();
                      if (window.innerWidth <= 380) {
                        resize380();
                        dataset();
                      }
                    }
                  }
                }
              } else {
                option.setAttribute("data-limit", "120");
                dataset();
              }

              window.addEventListener("resize", () => {
                if (window.innerWidth <= 991) {
                  resize991();
                  dataset();
                  if (window.innerWidth <= 768) {
                    resize768();
                    dataset();
                    if (window.innerWidth <= 576) {
                      resize576();
                      dataset();
                      if (window.innerWidth <= 480) {
                        resize480();
                        dataset();
                        if (window.innerWidth <= 380) {
                          resize380();
                          dataset();
                        }
                      }
                    }
                  }
                } else {
                  option.setAttribute("data-limit", "120");
                  dataset();
                }
              });
            }
          }
        }
      };
      shortString();
      // end ตัดคำ select option
    </script>
  </body>
</html>
